
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Keycloak 19.0.0 released - Keycloak</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Keycloak is an open source identity and access management solution">
    <meta name="author" content="Keycloak Team">
    <meta name="keywords" content="sso,idm,openid connect,saml,kerberos,ldap">

    

    

    <link href="https://www.keycloak.org/resources/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://www.keycloak.org/resources/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="https://www.keycloak.org/resources/css/keycloak.css" rel="stylesheet">

    <link rel="shortcut icon" href="https://www.keycloak.org/resources/favicon.ico">

    <script src="https://www.keycloak.org/resources/js/ga.js" type="text/javascript"></script>
    <script src="https://www.keycloak.org/resources/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="https://www.keycloak.org/resources/tocbot/dist/tocbot.min.js" type="text/javascript"></script>
</head>
<body>

<header class="navbar navbar-expand-md bg-light shadow-sm">
<nav class="container-xxl flex-wrap flex-md-no-wrap navbar-light">
    <a class="navbar-brand me-5" href="https://www.keycloak.org/">
        <img class="img-fluid" src="https://www.keycloak.org/resources/images/keycloak_logo_200px.svg" width="240" alt="Keycloak"/>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="fa fa-bars fa-lg px-1 py-2"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav pt-2 py-md-0">
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/guides">Guides</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/documentation">Docs</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/downloads">Downloads</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/community">Community</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/blog">Blog</a>
        </li>
      </ul>
    </div>
</nav>
</header>


<div class="container mt-5 kc-article">
    <h1>Keycloak 19.0.0 released</h1>
    <p class="blog-date text-muted">July 27 2022</p>


<p>To download the release go to <a href="https://www.keycloak.org/downloads.html">Keycloak downloads</a>.</p>

    <h2>Release notes</h2>
<div class="sect2">
<h3 id="_openid_connect_and_saml_adapters_end_of_life">OpenID Connect and SAML Adapters End-of-life</h3>
<div class="paragraph">
<p>Some Keycloak OpenID Connect adapters have reached end-of-life and are not included in this release.</p>
</div>
<div class="sect3">
<h4 id="_fuse_6_and_7_openid_connect">Fuse 6 and 7 (OpenID Connect)</h4>
<div class="paragraph">
<p>Keycloak will no longer be providing adapters for Fuse 6 or 7. If you need adapters for Fuse please leverage <a href="https://access.redhat.com/products/red-hat-single-sign-on">Red Hat Single Sign-On</a> 7.x adapters.</p>
</div>
</div>
<div class="sect3">
<h4 id="_jboss_as_7_and_eap_6_openid_connect_and_saml">JBoss AS 7 and EAP 6 (OpenID Connect and SAML)</h4>
<div class="paragraph">
<p>JBoss AS 7 has been unmaintained for a very long time. If you are still using JBoss AS 7 we recommend migrating to WildFly and leveraging the native OIDC support in WildFly.</p>
</div>
<div class="paragraph">
<p>Red Hat customers using Red Hat JBoss Enterprise Application Platform 6.x should use <a href="https://access.redhat.com/products/red-hat-single-sign-on">Red Hat Single Sign-On</a> 7.x adapters. These can be used in combination with the Keycloak server.</p>
</div>
</div>
<div class="sect3">
<h4 id="_jetty_9_2_and_9_3_openid_connect_and_saml">Jetty 9.2 and 9.3 (OpenID Connect and SAML)</h4>
<div class="paragraph">
<p>Jetty 9.2 reached end of life in 2018, while Jetty 9.3 reached end of life in 2020. If you are still using these versions we recommend upgrading to Jetty 9.4 as soon as possible.</p>
</div>
</div>
<div class="sect3">
<h4 id="_spring_boot_1_openid_connect">Spring Boot 1 (OpenID Connect)</h4>
<div class="paragraph">
<p>Spring Boot 1.x reached end of life in 2019. If you are still using Spring Boot 1 we recommend upgrading to Spring Boot 2 as soon as possible.</p>
</div>
</div>
<div class="sect3">
<h4 id="_wildfly_legacy_security_layer_openid_connect_and_saml">WildFly legacy security layer (OpenID Connect and SAML)</h4>
<div class="paragraph">
<p>In WildFly 25 the legacy security layer was removed, going forward only Elytron will be supported. We recommend anyone using an older version of WildFly to upgrade and leverage native OIDC support in WildFly.</p>
</div>
<div class="paragraph">
<p>Red Hat customers using Red Hat JBoss Enterprise Application Platform 7.x should use <a href="https://access.redhat.com/products/red-hat-single-sign-on">Red Hat Single Sign-On</a> 7.x adapters. These can be used in combination with the Keycloak server.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_new_admin_console_graduation">New Admin Console graduation</h3>
<div class="paragraph">
<p>The new Admin Console is now graduated to the default admin console, with the old console now deprecated. The old console will not be removed in Keycloak 21.</p>
</div>
</div>
<div class="sect2">
<h3 id="_changes_in_keycloak_storage">Changes in Keycloak storage</h3>
<div class="paragraph">
<p>The Keycloak storage is changing, and the current storage, while still supported, will eventually be replaced with a brand-new implementation.
This change brings better support for cloud-native storages, no-downtime abilities, and better support for implementing custom storages for additional areas apart from users.</p>
</div>
<div class="paragraph">
<p>It means several deep changes in the supported features of the current store will become <em>legacy</em> features.
The legacy store and the new store cannot be used simultaneously; only one store can be active at a time.</p>
</div>
<div class="paragraph">
<p>The most visible change is that the User Storage SPI is incompatible with the new storage API, the Map Storage API.
Thus, the User Storage SPI will be deprecated with legacy store and will move to a separate module called <code>keycloak-model-legacy</code>.
This change impacts several areas, especially areas related to user federation and custom user providers.</p>
</div>
<div class="paragraph">
<p>Furthermore, APIs have been consolidated so that the details of the storage layer will be transparent to the REST service layer.
Specifically, the services will not be able to differentiate cached and non-cached objects, nor specifically access federated versus local storage.</p>
</div>
<div class="paragraph">
<p>Hence, custom extensions that access objects in local storage or cache through <code>KeycloakSession</code>
methods must be reviewed.
See <a href="https://www.keycloak.org/docs/latest/upgrading/">Upgrading Guide</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_oidc_logout_changes">OIDC Logout changes</h3>
<div class="paragraph">
<p>In the previous release, we added support for OIDC logout. This release contains a few other fixes and polishing. The  highlights include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Support for the <code>client_id</code> parameter, which was added in recent draft of the OIDC RP-Initiated Logout specification. As a result, no need exists to use the <code>Consent Required</code> flag of the
client to show the logout confirmation screen.</p>
</li>
<li>
<p>Configuration option <code>Valid Post Logout Redirect URIs</code> added to the OIDC client. This change is aligned with the OIDC specification, which allows you to use a different set of redirect URIs for redirect after login and logout.
Value <code>+</code> used for <code>Valid Post Logout Redirect URIs</code> means that the logout will use the same set of redirect URIs as specified by the option of <code>Valid Redirect URIs</code>. This change also matches the default behavior when migrating
from a previous version due to backwards compatibility.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/latest/server_admin/#_oidc-logout">Server Administration Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_update_email_workflow">Update Email Workflow</h3>
<div class="paragraph">
<p>There is new preview feature <code>UPDATE_EMAIL</code>. When it is enabled and corresponding flag enabled in the realm, the users will be required
to confirm updating their email by clicking the link, which will be sent to their new email address. For more details, see the <a href="https://www.keycloak.org/docs/latest/server_admin/#_update-email-workflow">Server Administration Guide</a>.
Thanks to <a href="https://github.com/reda-alaoui">RÃ©da Housni Alaoui</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecated_poddisruptionbudget_in_the_legacy_keycloak_operator">Deprecated <code>podDisruptionBudget</code> in the legacy Keycloak Operator</h3>
<div class="paragraph">
<p>With this release, we have deprecated <code>podDisruptionBudget</code> field in the Keycloak CR of the <a href="https://github.com/keycloak/keycloak-operator">legacy Keycloak Operator</a>.
This optional field will be ignored when the Operator is deployed on Kubernetes version 1.25 and higher.</p>
</div>
<div class="paragraph">
<p>As a workaround, you can manually create the Pod Disruption Budget in your cluster, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  labels:
    app: keycloak
  name: keycloak
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      component: keycloak</code></pre>
</div>
</div>
<div class="paragraph">
<p>See also the <a href="https://kubernetes.io/docs/tasks/run-application/configure-pdb/">Kubernetes Documentation</a>.</p>
</div>
</div>
<h2>Migration from 18.0</h2>
<p>Before you upgrade remember to backup your database. If you are not on the previous release refer to <a href="https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes">the documentation</a> for a complete list of migration changes.</p>

<div class="sect2">
<h3 id="_new_admin_console_is_now_the_default_console">New Admin Console is now the default console</h3>
<div class="paragraph">
<p>The new admin console is now the default console in Keycloak. If you are not able to start using the new admin console it is possible to continue to use the old admin console by disabling the new console, by for example running:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>bin/kc.sh start-dev --features-disabled=admin2</code></pre>
</div>
</div>
<div class="paragraph">
<p>An alternative approach to continue using the old admin console is to set the theme for the master realm or any other realm to <code>keycloak</code>.</p>
</div>
<div class="paragraph">
<p>As the new admin console is signficiantly different to the old admin console, is now based on React and uses a newer version of PatternFly, any custom themes will most likely have to be re-implemented from scratch. To create a custom theme for the new admin console the theme should extend <code>keycloak.v2</code> instead of <code>keycloak</code>.</p>
</div>
<div class="paragraph">
<p>If you have explicitly set the admin console theme to <code>keycloak</code> for the master realm or any other realm, it will continue to use the old admin console. To update to the new admin console you need to change the theme to <code>keycloak.v2</code>.</p>
</div>
<div class="paragraph">
<p>The old admin console will be removed in Keycloak 21.</p>
</div>
</div>
<div class="sect2">
<h3 id="_changes_to_the_server_configuration_and_startup">Changes to the server configuration and startup</h3>
<div class="paragraph">
<p>Before this release, you would use the <code>--auto-build</code> when running the <code>start</code> command to tell the server to conditionally run
a <code>build</code> if any build option has changed prior to starting the server.</p>
</div>
<div class="paragraph">
<p>In this release, the <code>--auto-build</code> flag is <strong>deprecated</strong> and you no longer need to use it to indicate that you want to set build options when
starting the server. Instead, the server is always going to run a <code>build</code> by default prior to starting the server if any build option has changed.
The new behavior improves the overall experience when configuring and starting the server by making it optional, although highly recommended,
to run a <code>build</code> command beforehand in order to achieve the best startup time and memory footprint.</p>
</div>
<div class="paragraph">
<p>Now, in order to achieve the best startup time and memory footprint, set the <code>--optimized</code> option to disable the new default behavior.
The <code>--optimized</code> flag tells the server that checking for and running a <code>build</code> directly as part of the startup is not needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kc.sh start --optimized</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are already using a custom image to set build options and run an optimized Keycloak container, make sure you set the <code>--optimized</code> option when invoking the
<code>start</code> command.</p>
</div>
<div class="paragraph">
<p>For more details, please take a look at the <a href="https://www.keycloak.org/server/configuration">Configuration Guide</a> and the <a href="https://www.keycloak.org/server/containers">Containers Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_potentially_breaking_changes_to_the_health_endpoints">Potentially breaking changes to the health endpoints</h3>
<div class="paragraph">
<p>Before Keycloak 19.0.0, the quarkus based Keycloak distribution always enabled the following non-application endpoints unintentionally:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>/q/health</p>
</li>
<li>
<p>/q/health/live</p>
</li>
<li>
<p>/q/health/ready</p>
</li>
<li>
<p>/q/metrics</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Starting in Keycloak 19.0.0, these endpoints are <strong>disabled</strong> and a request will result in a 404 HTTP status-code. If you are using the <code>/q/&#8230;&#8203;</code> endpoints, make sure to change your probes and monitoring systems to use the intended health endpoints instead when upgrading to Keycloak 19.0.0.</p>
</div>
<div class="paragraph">
<p>The intended health endpoints are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>/health</p>
</li>
<li>
<p>/health/live</p>
</li>
<li>
<p>/health/ready</p>
</li>
<li>
<p>/metrics</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Apart from disabling the /q/ endpoints, these are the other improvements made to the health endpoints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>health/live</code> endpoint used for liveness probes is now decoupled from the database connections health, to match current good practices and to not have the same behaviour as the <code>health/ready</code> endpoint. As a result, the database check is not shown in the <code>checks:</code> array anymore when calling <code>/health/live</code>, so when there is a database hiccup, the liveness probe will still return HTTP status-code 200 and a status of UP, so no pod restart may be triggered.</p>
</li>
<li>
<p>The <code>health/ready</code> endpoint used for readiness probes still checks for a working database connection. Make sure you have not only <code>health-enabled=true</code> but also <code>metrics-enabled=true</code> set in your configuration, to enable the database check, resulting in an effective readiness probe. It will return HTTP status-code 503 and a status of DOWN when the database connection is not in a healthy state.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Expect more enhancements in this area in the future.
For more information, see the <a href="https://www.keycloak.org/server/health">Health guide</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_changes_affecting_developers">Changes affecting developers</h3>
<div class="paragraph">
<p>Keycloak undergoes large refactoring, which impacts existing code.
Some of these changes require updates to existing code.
These are in more detailed described below.</p>
</div>
<div class="sect3">
<h4 id="_rationale_for_changes">Rationale for changes</h4>
<div class="paragraph">
<p>Keycloak has several limitations; for example, downtime is needed for upgrading a Keycloak cluster.
To address the limitations, an in-depth refactor has been initiated.</p>
</div>
<div class="paragraph">
<p>The changes in this version are mostly attached to storage refactoring and a preparation of a new storage, called map storage. This storage will eventually replace the current storage, which will be called a <em>legacy store</em> with this version.
The legacy store will still be available in Keycloak for several more versions.</p>
</div>
<div class="paragraph">
<p>The new store imposes a strict separation of responsibility between the service and storage layers.
For that reason, the service layer&#8217;s visibility of an object&#8217;s origin will be restricted, so it will not be able to discriminate between cached or non-cached objects, or objects originating from local or federated storage.</p>
</div>
<div class="paragraph">
<p>User storage SPI will become deprecated.
It will be supported for several more versions, but will be eventually replaced by the Map Storage SPI, which will offer the ability to create custom storages for any recognized area, such as users, roles, clients, or groups.</p>
</div>
<div class="paragraph">
<p>Extensions that rely on the level of detail available to services in the legacy store will need adjustment to retain this ability for the full deprecation period of the legacy store.
The following section describes how that adjustment is accomplished.</p>
</div>
<div class="paragraph">
<p>Using a legacy and map store is mutually exclusive; one store cannot be used while the other is active.</p>
</div>
</div>
<div class="sect3">
<h4 id="_changes_in_the_module_structure">Changes in the module structure</h4>
<div class="paragraph">
<p>As part of introducing the new storage functionality, several public APIs around storage functionality in <code>KeycloakSession</code> have been consolidated, and some have been deprecated and will be removed in one of the next versions.
Three new modules have been introduced, and data-oriented code from <code>server-spi</code>, <code>server-spi-private</code>, and <code>services</code> modules have been moved there:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>org.keycloak:keycloak-model-legacy</code></dt>
<dd>
<p>Contains all public facing APIs from the legacy store, such as the User Storage API.</p>
</dd>
<dt class="hdlist1"><code>org.keycloak:keycloak-model-legacy-private</code></dt>
<dd>
<p>Contains private implementations that relate to user storage management, such as storage <code>*Manager</code> classes.</p>
</dd>
<dt class="hdlist1"><code>org.keycloak:keycloak-model-legacy-services</code></dt>
<dd>
<p>Contains all REST endpoints that directly operate on the legacy store, and have no meaning in the new store.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>These modules will be available as long as legacy stores will be supported.
After that period, they will be removed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_changes_in_keycloaksession">Changes in <code>KeycloakSession</code></h4>
<div class="paragraph">
<p><code>KeycloakSession</code> has been simplified.
Several methods have been deprecated in <code>KeycloakSession</code> and will be removed in a future version.</p>
</div>
<div class="paragraph">
<p><code>KeycloakSession</code> session contains several methods for obtaining a provider for a particular object type, such as for a <code>UserProvider</code> there are <code>users()</code>, <code>userLocalStorage()</code>, <code>userCache()</code>, <code>userStorageManager()</code>, and <code>userFederatedStorage()</code>.
This situaton may be confusing for the developer who has to understand the exact meaning of each method, and depends on current store layout.
The new store does not distinguish federated from local storage.</p>
</div>
<div class="paragraph">
<p>For those reasons, only the <code>users()</code> method will be kept in <code>KeycloakSession</code>, and should replace all other calls listed above.
The rest of the methods are deprecated, and will eventually be removed.
The same pattern of deprecation applies to methods of other object areas, such as <code>clients()</code> or <code>groups()</code>.
All methods ending in <code>*StorageManager()</code> and <code>*LocalStorage()</code> now throw an exception when being called, as there is no direct replacement in the new store.
The next section describes how to migrate those calls to the new API or use the legacy API while using the old store.</p>
</div>
<div class="paragraph">
<p>The deprecated methods in KeycloakSession will be removed in a future release.
The <code>keycloak-model-legacy-*</code> modules will be available for a longer time and will eventually be removed.</p>
</div>
<div class="sect4">
<h5 id="_migrating_existing_providers_that_do_not_depend_on_the_legacy_store">Migrating existing providers that do not depend on the legacy store</h5>
<div class="paragraph">
<p>The existing providers need no migration if they do not call a deprecated method, which should be the case for most providers.</p>
</div>
<div class="paragraph">
<p>If the provider uses deprecated methods, but does not rely on local versus non-local storage, changing a call from the now deprecated <code>userLocalStorage()</code> to the method <code>users()</code> is the best option.
Be aware that the semantics change here as the new method involves a cache if that has been enabled in the local setup.</p>
</div>
<div class="listingblock">
<div class="title">Before migration: accessing a deprecated API that now throws an exception</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">session<strong>.userLocalStorage()</strong>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">After migration: accessing the new API caller does not depend on the legacy storage API</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">session<strong>.users()</strong>;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_migrating_existing_providers_that_depend_on_the_legacy_store">Migrating existing providers that depend on the legacy store</h5>
<div class="paragraph">
<p>In the rare case when a custom provider needs to distinguish between the mode of a particular provider, access to the deprecated objects is provided by using the <code>LegacyStoreManagers</code> data store provider.
This option will be available only if the legacy modules are part of the deployment.</p>
</div>
<div class="listingblock">
<div class="title">Before migration: accessing a deprecated API that now throws an exception</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">session<strong>.userLocalStorage()</strong>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">After migration: accessing the old functionality via the LegacyStoreManagers API</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">((LegacyDatastoreProvider) session.getProvider(DatastoreProvider.class))<strong>.userLocalStorage()</strong>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Some user storage related APIs have been wrapped in <code>org.keycloak.storage.UserStorageUtil</code> for convenience.</p>
</div>
</div>
<div class="sect4">
<h5 id="_creating_custom_storage_providers">Creating custom storage providers</h5>
<div class="paragraph">
<p>The API for creating a custom storage provider has not been fully stabilized yet, though it is available as a tech preview.
See the <code>MapStorageProvider</code> SPI and its Javadoc for details.
The availability of the new API is a priority for the next Keycloak version.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_changes_to_realmmodel">Changes to <code>RealmModel</code></h4>
<div class="paragraph">
<p>The methods getUserStorageProviders`, <code>getUserStorageProvidersStream</code>, <code>getClientStorageProviders</code>, <code>getClientStorageProvidersStream</code>, <code>getRoleStorageProviders</code> and <code>getRoleStorageProvidersStream</code> have been removed.
Code which depends on these methods and runs with the legacy storage enabled should cast the instance as follows:</p>
</div>
<div class="listingblock">
<div class="title">Before migration: code will not compile due to the changed API</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">realm<strong>.getClientStorageProvidersStream()</strong>...;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">After migration: cast the instance to the legacy interface</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">((LegacyRealmModel) realm)<strong>.getClientStorageProvidersStream()</strong>...;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, code that used to implement the interface <code>RealmModel</code> and wants to provide these methods should implement the new interface <code>LegacyRealmModel</code>. This interface is a sub-interface of <code>RealmModel</code> and includes the old methods:</p>
</div>
<div class="listingblock">
<div class="title">Before migration: code implements the old interface</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class MyClass extends RealmModel {
    /* might not compile due to @Override annotations for methods no longer present
       in the interface RealmModel. <strong>/
    /</strong> ... */
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">After migration: code implements the new interface</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class MyClass extends LegacyRealmModel {
    /* ... */
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_interface_usercache_moved_to_the_legacy_module">Interface <code>UserCache</code> moved to the legacy module</h4>
<div class="paragraph">
<p>As the caching status of objects will be trasparent to services, the interface <code>UserCache</code>
has been moved to the module <code>keycloak-legacy</code>.
Calls to <code>session.userCache()</code> will therefore return only a <code>UserProvider</code>, which is a breaking change.</p>
</div>
<div class="paragraph">
<p>Code that depends on the legacy implementation should access the <code>UserCache</code> directly.
While such calls might be necessary while caching with the legacy store is used, it will not be necessary when using the new map store, as that one handles caching transparently.</p>
</div>
<div class="listingblock">
<div class="title">Before migration: code will not compile due to a changed return type</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// session.userCache() might return null, null-check omitted for brevity.
session<strong>.userCache()</strong>.evict(realm, user);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">After migration: use the API directly</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// session.getProvider(UserCache.class) might return null, null-check omitted for brevity.
session.<strong>getProvider(UserCache.class)</strong>.evict(realm, user);</code></pre>
</div>
</div>
<div class="paragraph">
<p>To trigger the invalidation of a realm, instead of using the <code>UserCache</code> API, consider triggering an event:</p>
</div>
<div class="listingblock">
<div class="title">Before migration: code will not compile due to a changed return type</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">UserCache cache = session.getProvider(UserCache.class);
if (cache != null) cache.clear();</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">After migration: use the invalidation API</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">session.invalidate(InvalidationHandler.ObjectType.REALM, realm.getId());</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_credential_management_for_users">Credential management for users</h4>
<div class="paragraph">
<p>Credentials for users were previously managed using <code>session.userCredentialManager().<em>method</em>(realm, user, ...)</code>.
The new way is to leverage <code>user.credentialManager().<em>method</em>(...)</code>.
This form gets the credential functionality closer to the API of users, and does not rely on prior knowledge of the user credential&#8217;s location in regard to realm and storage.</p>
</div>
<div class="paragraph">
<p>The old APIs have been deprecated, and will only work when the legacy storage is enabled in the deployment.
The new APIs will work with both old and new storages.</p>
</div>
<div class="listingblock">
<div class="title">Before migration: accessing a deprecated API</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">session.userCredentialManager()<strong>.createCredential</strong>(realm, user, credentialModel)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">After migration: accessing the new API</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">user.credentialManager()<strong>.createStoredCredential</strong>(credentialModel)</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a custom <code>UserStorageProvider</code>, there is a new method <code>credentialManager()</code> that needs to be implemented when returning a <code>UserModel</code>.
As those providers run in an environment with the legacy storage enabled, those must return an instance of the <code>LegacyUserCredentialManager</code>:</p>
</div>
<div class="listingblock">
<div class="title">Before migration: code will not compile due to the new method <code>credentialManager()</code> required by <code>UserModel</code></div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class MyUserStorageProvider implements UserLookupProvider, ... {
    /* ... */
    protected UserModel createAdapter(RealmModel realm, String username) {
        return new AbstractUserAdapter(session, realm, model) {
            @Override
            public String getUsername() {
                return username;
            }
        };
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">After migration: implementation of the API <code>UserModel.credentialManager()</code> for the legacy store.</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class MyUserStorageProvider implements UserLookupProvider, ... {
    /* ... */
    protected UserModel createAdapter(RealmModel realm, String username) {
        return new AbstractUserAdapter(session, realm, model) {
            @Override
            public String getUsername() {
                return username;
            }

            @Override
            public SubjectCredentialManager credentialManager() {
                return new LegacyUserCredentialManager(session, realm, this);
            }
        };
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_deprecated_poddisruptionbudget_in_the_legacy_keycloak_operator">Deprecated <code>podDisruptionBudget</code> in the legacy Keycloak Operator</h3>
<div class="paragraph">
<p>With this release, we have deprecated <code>podDisruptionBudget</code> field in the Keycloak CR of the <a href="https://github.com/keycloak/keycloak-operator">legacy Keycloak Operator</a>.
This optional field will be ignored when the Operator is deployed on Kubernetes version 1.25 and higher.</p>
</div>
<div class="paragraph">
<p>As a workaround, you can manually create the Pod Disruption Budget in your cluster, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  labels:
    app: keycloak
  name: keycloak
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      component: keycloak</code></pre>
</div>
</div>
<div class="paragraph">
<p>See also the <a href="https://kubernetes.io/docs/tasks/run-application/configure-pdb/">Kubernetes Documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deployment_changes_in_the_new_keycloak_operator">Deployment changes in the new Keycloak Operator</h3>
<div class="paragraph">
<p>The new Keycloak Operator now uses <code>StatefulSet</code> instead of <code>Deployment</code> for Keycloak deployments. There&#8217;s no automated
migration in place given the Operator is a tech preview in this release. If you are using the new Operator with 18.0.z,
please make sure to back up, delete and recreate your Keycloak CR after the upgrade to 19.0.0.</p>
</div>
</div>
<h2>All resolved issues</h2>


<h3>New features</h3>
<ul>
<li><a href="https://github.com/keycloak/keycloak-documentation/issues/1628">#1628</a> Operator release notes for KC 19.0.0 <span class="badge bg-secondary">keycloak-documentation </span></li>
<li><a href="https://github.com/keycloak/keycloak-documentation/issues/1630">#1630</a> Document changes in health and metrics endpoint <span class="badge bg-secondary">keycloak-documentation </span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2668">#2668</a> "ACR to LoA Mapping" field missing from realm settings > login tab <span class="badge bg-secondary">keycloak-admin-ui </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9898">#9898</a> Make sure operator tests work with pre-built operator image <span class="badge bg-secondary">keycloak operator</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/10135">#10135</a> Support for post_logout_redirect_uris in OIDC client registration <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12125">#12125</a> Support logging-gelf feature for centralized log management system <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12972">#12972</a> Move ClusterProvider to the legacy module <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13242">#13242</a> Promote new admin console to default <span class="badge bg-secondary">keycloak </span></li>
</ul>

<h3>Enhancements</h3>
<ul>
<li><a href="https://github.com/keycloak/keycloak-quickstarts/issues/324">#324</a> JavaScript Provider quickstarts on Java 17 <span class="badge bg-secondary">keycloak-quickstarts </span></li>
<li><a href="https://github.com/keycloak/keycloak-documentation/issues/1510">#1510</a> Remove adapters that are EOL from docs <span class="badge bg-secondary">keycloak-documentation </span></li>
<li><a href="https://github.com/keycloak/keycloak-documentation/issues/1520">#1520</a> Ability to require email to be verified before changing <span class="badge bg-secondary">keycloak-documentation </span></li>
<li><a href="https://github.com/keycloak/keycloak-documentation/issues/1521">#1521</a> Release notes for Keycloak 19 <span class="badge bg-secondary">keycloak-documentation </span></li>
<li><a href="https://github.com/keycloak/keycloak-documentation/issues/1536">#1536</a> JavaScript Providers on Java 17 <span class="badge bg-secondary">keycloak-documentation </span></li>
<li><a href="https://github.com/keycloak/keycloak-documentation/issues/1545">#1545</a> Documentation for latest logout changes <span class="badge bg-secondary">keycloak-documentation </span></li>
<li><a href="https://github.com/keycloak/keycloak-documentation/issues/1631">#1631</a> Document changes to configuration and startup with --optimized <span class="badge bg-secondary">keycloak-documentation </span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/1943">#1943</a> Fine Grained Permissions Custom User Creation Role <span class="badge bg-secondary">keycloak-admin-ui </span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2036">#2036</a> make routes lower case only <span class="badge bg-secondary">keycloak-admin-ui </span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2188">#2188</a> Update Credentials tab to support Client Secret Rotation feature <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2401">#2401</a> Add "Clear Cache" functions <span class="badge bg-secondary">keycloak-admin-ui section/masthead</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2402">#2402</a> Fine-grained Permissions Screens <span class="badge bg-secondary">keycloak-admin-ui section/other</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2403">#2403</a> Restrict screens based on Fine-grained Permissions <span class="badge bg-secondary">keycloak-admin-ui section/other</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2404">#2404</a> i18n readiness <span class="badge bg-secondary">keycloak-admin-ui section/other</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2408">#2408</a> Introduce Resource Type in scope based permissions <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2509">#2509</a> Show Authentication Flow-Bindings in Flow list <span class="badge bg-secondary">keycloak-admin-ui section/authentication</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2510">#2510</a> Make provider information visible in new admin-console <span class="badge bg-secondary">keycloak-admin-ui section/masthead</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2571">#2571</a> Improvements to Learn More Links <span class="badge bg-secondary">keycloak-admin-ui </span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2743">#2743</a> Update translations before Milestone 19 <span class="badge bg-secondary">keycloak-admin-ui </span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2984">#2984</a> Support for post_logout_redirect_uris in OIDC client registration <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9215">#9215</a> Better message when using wrong Java version <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9502">#9502</a> Include WebAuthn tests to GH Actions <span class="badge bg-secondary">keycloak testsuite</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9563">#9563</a> Prevent lookup of client service account when feature is disabled <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9830">#9830</a> Reduce number of required options when running export and import commands <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9831">#9831</a> Enable Cross DC support for quarkus based keycloak distribution <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9834">#9834</a> Run tests on Windows Runner <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9969">#9969</a> Improve how values are set when using shell special characters <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9992">#9992</a> Review QuarkusLiquibaseConnectionProvider based on the last updates to Wildfly version <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/10146">#10146</a> Make sure that OIDC conformance testsuite passes for logout and normal profiles <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/10304">#10304</a> Exit code 143 when running using systemd <span class="badge bg-secondary">keycloak docs</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/10737">#10737</a> Changing the `start` command to run `auto-build` by default <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/10738">#10738</a> Polish the operator code <span class="badge bg-secondary">keycloak operator</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/10888">#10888</a> Include 'urn:ietf:params:oauth:grant-type:token-exchange' in grant_types_supported field of Keycloak OP metadata, if token-exchange is enabled <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/10916">#10916</a> Upgrade Resteasy v4 <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11268">#11268</a> Remove support for IE <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11506">#11506</a> Properly enable/disable metrics and health endpoints <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11514">#11514</a> Cannot use a nested claim value for Regex comparison in a Regex Policy in Authorization Services <span class="badge bg-secondary">keycloak authorization-services</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11731">#11731</a> Remove JBoss community logo from welcome page <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11875">#11875</a> Ability to require email to be verified before changing <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12243">#12243</a> Refactor BouncyIntegration <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12400">#12400</a> Clarify `transaction-xa-enabled` and add `transaction-jta-enabled` <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12450">#12450</a> More information in the proxy guide about exposing the administration console <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12556">#12556</a> Throw exception in deprecated `KeycloakSession` methods <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12614">#12614</a> Quarkus / map store integration: ConcurrentHashMap <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12662">#12662</a> Allow to disable JPA completly <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13096">#13096</a> Integrate the JPA map store <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13121">#13121</a> Activate JPA Map store for usersessions in Quarkus <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13135">#13135</a> Adjust configuration guide to reflect changes to startup behaviour (--optimized instead of --auto-build) <span class="badge bg-secondary">keycloak docs</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13141">#13141</a> Change the `--optimise` option to `--optimized` <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13223">#13223</a> Make *:8787 the default for the "address" field using --debug <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13233">#13233</a> Remove `KeycloakIntegratorProvider` after last changes to map-jpa <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13283">#13283</a> Unsupported options only shown when using help-all <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13312">#13312</a> Allow Quarkus Map storage to configure stores for different areas <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13355">#13355</a> Add prefix to the area Map storage options for Quarkus <span class="badge bg-secondary">keycloak storage</span></li>
</ul>

<h3>Bugs</h3>
<ul>
<li><a href="https://github.com/keycloak/keycloak-quickstarts/issues/303">#303</a> Update user-storage-jpa to work with the new distribution <span class="badge bg-secondary">keycloak-quickstarts </span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/381">#381</a> KEYCLOAK-15988 <span class="badge bg-secondary">keycloak-admin-ui section/realm settings</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/1390">#1390</a> `Query supported extensions` missing from LDAP provider <span class="badge bg-secondary">keycloak-admin-ui section/identity providers</span></li>
<li><a href="https://github.com/keycloak/keycloak-documentation/issues/1468">#1468</a> Reinstate missing OIDC endpoints <span class="badge bg-secondary">keycloak-documentation </span></li>
<li><a href="https://github.com/keycloak/keycloak-documentation/issues/1506">#1506</a> Broken cross-reference in recovery code topic <span class="badge bg-secondary">keycloak-documentation </span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/1758">#1758</a> [UX Review] Users > role mappings: the inherited relationship doesn't show correctly <span class="badge bg-secondary">keycloak-admin-ui ux-review</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/1893">#1893</a> Update admin console documentation links <span class="badge bg-secondary">keycloak-admin-ui documentation</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2099">#2099</a> Many controls enabled when user has view-* access <span class="badge bg-secondary">keycloak-admin-ui section/other</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2166">#2166</a> Authorization tab never shown for realm-management client <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2187">#2187</a> Missing attributes to support step up authentication <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2372">#2372</a> "Decision strategy" at Authorization > Settings displays wrong value <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2375">#2375</a> Filter by Origin not working on User --> Role mapping --> Assign roles <span class="badge bg-secondary">keycloak-admin-ui section/users</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2380">#2380</a> "Test authentication" doesn't work for an existing user federation provider (LDAP) <span class="badge bg-secondary">keycloak-admin-ui section/user federation</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2381">#2381</a> "Group" field is blank for existing hardcoded-ldap-group-mapper <span class="badge bg-secondary">keycloak-admin-ui section/user federation</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2382">#2382</a> Pagination doesn't work on Client > Authorization tab <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2384">#2384</a> Permission editor shows resource IDs instead of names <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2386">#2386</a> Authorization resource page displays incorrect associated scope based permissions <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2397">#2397</a> [UX Review] Validators are only allowed to be added once in the User profile <span class="badge bg-secondary">keycloak-admin-ui section/realm settings</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2471">#2471</a> Import client doesn't pass "publicClient" attribute. <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2478">#2478</a> Sessions screen - clients links broken <span class="badge bg-secondary">keycloak-admin-ui section/sessions</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2504">#2504</a> User page not loaded in admin console v2 having only roles "view-users, manage-users" <span class="badge bg-secondary">keycloak-admin-ui section/users</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2511">#2511</a> Client specific Mapper configuration missing <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2521">#2521</a> filtering client-scope assign dialog makes dialog empty <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2528">#2528</a> Clients-->Authorization-->Permission details shows permissions in Policies dropdown <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2534">#2534</a> X-Frame-Options url not found <span class="badge bg-secondary">keycloak-admin-ui section/realm settings</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2535">#2535</a> Default Groups <span class="badge bg-secondary">keycloak-admin-ui section/groups</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2562">#2562</a> Permissions tab breaks groups in test realm <span class="badge bg-secondary">keycloak-admin-ui section/groups</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2580">#2580</a> Problems with Role mapping tab <span class="badge bg-secondary">keycloak-admin-ui section/groups</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2582">#2582</a> [UX Review] The changes of Actions menu in LDAP user federation <span class="badge bg-secondary">keycloak-admin-ui section/user federation</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2585">#2585</a> [UX Review] âAlways Read Value From LDAPâ is missing <span class="badge bg-secondary">keycloak-admin-ui section/user federation</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2593">#2593</a> [UX Review] Add the "Delete" action in the mapper details page <span class="badge bg-secondary">keycloak-admin-ui section/user federation</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2595">#2595</a> [UX Review] Add "Permissions" tab into the Identity provider <span class="badge bg-secondary">keycloak-admin-ui section/identity providers</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2596">#2596</a> [UX Review] The "Delete" is missing in the Identity provider's mappers page <span class="badge bg-secondary">keycloak-admin-ui section/identity providers</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2669">#2669</a> Broken link after group search <span class="badge bg-secondary">keycloak-admin-ui section/groups</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2671">#2671</a> "Terms and conditions" and other required actions not available for user <span class="badge bg-secondary">keycloak-admin-ui section/users</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2684">#2684</a> [UX Review] "Use lower-case bearer type in token responses" is missing the Advanced settings.  <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2685">#2685</a> [UX Review] âDefault ACR Valuesâ is missing in the Advanced settings of client <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2687">#2687</a> [UX Review] There is no "Logout settings" in the SAML client <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2701">#2701</a> SMTP configuration adds authentication instead of auth <span class="badge bg-secondary">keycloak-admin-ui section/realm settings</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2703">#2703</a> Use authServerUrl instead of authUrl to initialize Keycloak Admin Client  <span class="badge bg-secondary">keycloak-admin-ui section/other</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2739">#2739</a> [UX Review] Add the "Edit" action for custom flow <span class="badge bg-secondary">keycloak-admin-ui section/authentication</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2744">#2744</a> Alerts for Disable/Enable Realm Settings for Login is not correct <span class="badge bg-secondary">keycloak-admin-ui section/realms</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2745">#2745</a> User Profile - Error when enable "User Profile" - "Danger alert:config2.attributes is undefined" <span class="badge bg-secondary">keycloak-admin-ui section/realms</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2746">#2746</a> User Profile - Attribute "Required" flag can't be removed via UI <span class="badge bg-secondary">keycloak-admin-ui section/realms</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2747">#2747</a> User Profile - Group is unable to be assigned to an Attribute + All group are deleted <span class="badge bg-secondary">keycloak-admin-ui section/realms</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2767">#2767</a> [UX Review] The help text is not visible <span class="badge bg-secondary">keycloak-admin-ui </span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2772">#2772</a> [UX Review] The "Show authorization data" is missing <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2778">#2778</a> Error message in User Federation provider is not user friendly <span class="badge bg-secondary">keycloak-admin-ui section/user federation</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2779">#2779</a> Client --> Settings form cut off at bottom <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2787">#2787</a> Identity providers: Selecting provider name is throwing an error <span class="badge bg-secondary">keycloak-admin-ui section/identity providers</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2810">#2810</a> Client scopes > Mappers > "Configure a new mapper" dialog has possibly incorrect heading <span class="badge bg-secondary">keycloak-admin-ui section/client scopes</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2817">#2817</a> Create profile/policy: Headings consistency <span class="badge bg-secondary">keycloak-admin-ui section/realm settings</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2818">#2818</a> Realm settings > Partial export dialog accessed from Action dropdown <span class="badge bg-secondary">keycloak-admin-ui section/realm settings</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2837">#2837</a> [Accessibility Review] Critical - Client scopes page issues <span class="badge bg-secondary">keycloak-admin-ui section/client scopes</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2838">#2838</a> [Accessibility Review] Critical - Users page issues <span class="badge bg-secondary">keycloak-admin-ui section/users</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2844">#2844</a> [Accessibility Review] Critical - Groups page issues  <span class="badge bg-secondary">keycloak-admin-ui section/groups</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2845">#2845</a> [Accessibility Review] Critical - Realm settings page issues <span class="badge bg-secondary">keycloak-admin-ui section/realm settings</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2846">#2846</a> [Accessibility Review] Critical - Authentication page issues <span class="badge bg-secondary">keycloak-admin-ui section/authentication</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2847">#2847</a> [Accessibility Review] Critical - Identity providers page issues <span class="badge bg-secondary">keycloak-admin-ui section/identity providers</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2848">#2848</a> [Accessibility Review] Critical - User federation page issues <span class="badge bg-secondary">keycloak-admin-ui section/user federation</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2849">#2849</a> [Accessibility Review] Serious - SideNav page issues <span class="badge bg-secondary">keycloak-admin-ui section/other</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2851">#2851</a> [Accessibility Review] Serious - Realm settings page issues <span class="badge bg-secondary">keycloak-admin-ui section/realm settings</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2852">#2852</a> [Accessibility Review] Serious - Authentication page issues <span class="badge bg-secondary">keycloak-admin-ui section/authentication</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2853">#2853</a> Misspelling in OIDC Client section <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2884">#2884</a> Identity providers syncMode defaults to import in lower case <span class="badge bg-secondary">keycloak-admin-ui section/identity providers</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2895">#2895</a> [UX Review] Can't use the Resource type to evaluate authorization <span class="badge bg-secondary">keycloak-admin-ui section/clients</span></li>
<li><a href="https://github.com/keycloak/keycloak-admin-ui/issues/2925">#2925</a> Realm selector styles are broken in production build <span class="badge bg-secondary">keycloak-admin-ui </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9194">#9194</a> Client authentication fails when using signed JWT, if the JWA signing algorithm is not RS256 <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9289">#9289</a> PAR logic affecting /auth endpoint <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9376">#9376</a> Client secret length should be adjusted based on select signature algorithm <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9525">#9525</a> Dist.X: Show-Config does not show always the right applied configuration <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9945">#9945</a> Script providers not working on OpenJDK 17 due to Nashorn being deprecated <span class="badge bg-secondary">keycloak core</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/10464">#10464</a> The `/auth` base path should be adjusted in v17 docs pages <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/10818">#10818</a> Re-augmentation is recording runtime properties as runtime default values <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/10907">#10907</a> Custom provider throws java.lang.NoSuchMethodError: 'org.jboss.resteasy.spi.ResteasyUriInfo org.jboss.resteasy.spi.HttpRequest.getUri() <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/10967">#10967</a> Flaky Operator tests <span class="badge bg-secondary">keycloak operator</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/10993">#10993</a> ciba http auth channel sends client_id and client_secret via delegation request <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11116">#11116</a> /clients-registrations API doesn't return secret anymore and is not coherent <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11248">#11248</a> Empty secret for imported private client <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11300">#11300</a> Keycloak liveness probe behaves as readiness probe <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11392">#11392</a> ID token encryption without specifying id_token_encrypted_response_enc does not follow OIDC Dynamic Client Registration specification <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11394">#11394</a> Deprecated org.keycloak.jose.jws.Algorithm is used in OIDCAdvancedConfigWrapper <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11438">#11438</a> Fix Device Authorization Grant error responses returned as HTML instead of JSON <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11647">#11647</a> User Profile: Empty permissions in JSON configuration prohibit update of username and email <span class="badge bg-secondary">keycloak user-profile</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11753">#11753</a> Logout confirm page is failing to log the user out on auth-server-wildfly <span class="badge bg-secondary">keycloak testsuite</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11771">#11771</a> HardcodedLDAPRoleStorageMapper and HardcodedLDAPGroupStorageMapper ignore composite roles when checking whether user has role (was KEYCLOAK-18308) <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11897">#11897</a> Not documented breaking API change for client creation <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11908">#11908</a> Implementation of OAuth2 authentication with HTTP Basic authentication scheme not RFC6749 compliant <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11915">#11915</a> the param id_token_hint in OpenID Connect Logout <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11951">#11951</a> Changing locale on logout confirmation strips redirect_uri parameter <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/11958">#11958</a> Keycloak does not support POST method mentioned in latest OIDC RP-Initiated Logout specs draft <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12109">#12109</a> Account REST endpoint does not respect view permission settings from user profile on lastName and firstName <span class="badge bg-secondary">keycloak account/api</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12141">#12141</a> IDP with PKCE: Token-Request body contains non-standard parameter <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12164">#12164</a> Possible client enumeration in the authorization endpoint <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12247">#12247</a> Cannot find ScriptEngine for JDK8 and Wildfly <span class="badge bg-secondary">keycloak testsuite</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12295">#12295</a> Client Policies: pkce-enforcer executor with client-access-type condition is not applied on client change via Admin API <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12327">#12327</a> OAuth2 device polling interval default set to wrong value <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12348">#12348</a> Token endpoint: HTTP 500 unknown error when using client credentials grant type with encrypted id_token but without a encryption key. <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12385">#12385</a> Unable to start KC server for auth-server-quarkus on Windows machine <span class="badge bg-secondary">keycloak testsuite</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12455">#12455</a> DeviceTokenRequestContext.getEvent returns a wrong ClientPolicyEvent <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12504">#12504</a> `KerberosLdapTest` is failing on Undertow <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12512">#12512</a> Authorization Permission Mismatch in RPT and Permission Ticket  <span class="badge bg-secondary">keycloak authorization-services</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12549">#12549</a> AuthzClient fails if it can not access the frontend-url <span class="badge bg-secondary">keycloak authorization-services</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12553">#12553</a> Keycloak accepts a client scope name that violates OAuth2.0 scope-token definition rule <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12565">#12565</a> No secret provided for dynamically registered client using client_secret_jwt method in Keycloak 18 <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12589">#12589</a> CIBA flow : no error on invalid scope <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12596">#12596</a> NullPointerException on exchange of client-credentials obtained token <span class="badge bg-secondary">keycloak token-exchange</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12680">#12680</a> OIDC logout fails without id_token_hint <span class="badge bg-secondary">keycloak oidc</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12762">#12762</a> Cannot use WebAuthn with WildFly distribution <span class="badge bg-secondary">keycloak dist/wildfly</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12828">#12828</a> Profile not properly reseted when running the testsuite <span class="badge bg-secondary">keycloak testsuite</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12861">#12861</a> Partial import feature does not import Identity Provider mappers in Keycloak <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12935">#12935</a> Unused import statements in classes related to device flow <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/12984">#12984</a> Problem with default for configuration option log-file <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13126">#13126</a> When running JPA Map liquibase changeset, don't log the on the console <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13130">#13130</a> JPA Map storage concurrent execution of liquibase updates <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/13200">#13200</a> Fails to update a client with JPA Map store <span class="badge bg-secondary">keycloak storage</span></li>
</ul>


<h2>Upgrading</h2>
<p>Before you upgrade remember to backup your database and check the <a href="https://www.keycloak.org/docs/latest/upgrading/index.html">upgrade guide</a> for anything that may have changed.</p>
</div>


<div class="container">
    <footer class="d-flex flex-wrap justify-content-between align-items-center pt-2 mt-3 mb-3">
        <div class="col-md-4 d-flex align-items-center">
            <span class="text-muted me-3">Sponsored by</span>
            <a href="http://www.redhat.com/" target="_blank" class="">
                <img alt="Red Hat" src="https://www.keycloak.org/resources/images/Logo-RedHat-A-Standard-RGB.svg" width="100">
            </a>
        </div>
    </footer>
</div>

</body>
</html>
