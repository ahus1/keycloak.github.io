
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Keycloak - Blog - Keycloak 16.0.0 released</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Keycloak is an open source identity and access management solution">
    <meta name="author" content="Keycloak Team">
    <meta name="keywords" content="sso,idm,openid connect,saml,kerberos,ldap">

    

    <meta http-equiv='Content-Security-Policy' content="default-src 'none'; style-src 'self'; img-src 'self' https://www.google-analytics.com; font-src 'self'; script-src 'self' https://www.google-analytics.com; connect-src 'self' https://www.google-analytics.com; base-uri 'none'; form-action 'none';">

    <link href="https://www.keycloak.org/resources/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://www.keycloak.org/resources/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://www.keycloak.org/resources/css/keycloak.css" rel="stylesheet">

    <link rel="shortcut icon" href="https://www.keycloak.org/resources/favicon.ico">

    <script src="https://www.keycloak.org/resources/js/ga.js" type="text/javascript"></script>
    <script src="https://www.keycloak.org/resources/js/jquery-1.11.1.min.js" type="text/javascript"></script>
    <script src="https://www.keycloak.org/resources/js/bootstrap.min.js" type="text/javascript"></script>
</head>
<body>
<div id="wrap">
<header class="main-header">
    <div class="container">
        <div class="row">
            <div class="col-md-3 col-sm-3 col-xs-12 keycloak-logo-div navbar-header">
                <button type="button" class=" pull-right  navbar-toggle collapsed" data-toggle="collapse" data-target="#mainBtnTarget" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="https://www.keycloak.org/" title="Keycloak" class="keycloak-logo-a">
                    <img class="keycloak-logo" src="https://www.keycloak.org/resources/images/keycloak_logo_480x108.png" border="0" alt="Keycloak"/>
                </a>
            </div>
            <div id="mainBtnTarget" class="col-md-9 col-sm-9 col-xs-12 collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="https://www.keycloak.org/getting-started">Get Started</a></li>
                    <li><a href="https://www.keycloak.org/documentation">Docs</a></li>
                    <li><a href="https://www.keycloak.org/downloads">Downloads</a></li>
                    <li><a href="https://www.keycloak.org/community">Community</a></li>
                    <li><a href="https://www.keycloak.org/blog">Blog</a></li>
                </ul>
            </div>
        </div>
    </div>
</header>

<div class="page-section">
    <div class="container blog">
        <h1>Keycloak 16.0.0 released</h1>
        <p class="blog-date">Friday, December 17 2021</p>


<p>To download the release go to <a href="https://www.keycloak.org/downloads.html">Keycloak downloads</a>.</p>

    <h2>Release notes</h2>
<div class="sect2">
<h3 id="_highlights">Highlights</h3>
<div class="sect3">
<h4 id="_upgrade_to_wildfly_25_0_1">Upgrade to Wildfly 25.0.1</h4>
<div class="paragraph">
<p>Keycloak server was upgraded to use Wildfly 25.0.1.Final as the underlying container.</p>
</div>
<div class="paragraph">
<p>WildFly 25 drops support for the legacy security subsystem, which is being replaced fully by Elytron. This requires significant changes to how Keycloak is configured. Please, refer to the migration guide for more details.</p>
</div>
<div class="paragraph">
<p>For more information on WildFly 25 refer to the <a href="https://www.wildfly.org/news/2021/10/05/WildFly25-Final-Released/">WildFly 25 release notes</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_upgrade_to_quarkus_2_5_3">Upgrade to Quarkus 2.5.3</h4>
<div class="paragraph">
<p>Keycloak.X Quarkus preview distribution was upgraded to Quarkus 2.5.3.</p>
</div>
</div>
</div>
<h2>Migration from 16.0</h2>
<p>Before you upgrade remember to backup your database. If you are not on the previous release refer to <a href="https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes">the documentation</a> for a complete list of migration changes.</p>

<div class="sect2">
<h3 id="_wildfly_25_upgrade">WildFly 25 upgrade</h3>
<div class="paragraph">
<p>WildFly 25 deprecates the legacy security subsystem that among other things was used to configure TLS. Due to the amount of changes we are not able to provide migration scripts as we have done in the past.</p>
</div>
<div class="paragraph">
<p>We recommend that rather than copying configuration files from previous versions of Keycloak that you start with the default configuration files provided in Keycloak 16 and apply the relevant changes.</p>
</div>
<div class="paragraph">
<p>Configuration for the Keycloak subsystem can be copied directly.</p>
</div>
<div class="paragraph">
<p>For more information around the Elytron subsystem refer to the <a href="https://docs.wildfly.org/25/WildFly_Elytron_Security.html">WildFly documentation</a>.</p>
</div>
<div class="paragraph">
<p>We are really sorry for this inconvenience and understand this will make it significantly harder for everyone to upgrade to Keycloak 16, but we simply have not been able to find an alternative approach.</p>
</div>
<div class="paragraph">
<p>One thing worth pointing out is the switch to Quarkus distribution, which we plan to make fully supported in Keycloak 17, will make it significantly easier to configure and upgrade Keycloak.</p>
</div>
<div class="paragraph">
<p>For more information on WildFly 25 refer to the <a href="https://www.wildfly.org/news/2021/10/05/WildFly25-Final-Released/">WildFly 25 release notes</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_proxy_environment_variables">Proxy environment variables</h3>
<div class="paragraph">
<p>Keycloak now respects the standard <code>HTTP_PROXY</code>, <code>HTTPS_PROXY</code> and <code>NO_PROXY</code> environment variables for outgoing
HTTP requests. This change could lead to unexpected use of a proxy server if you have for example the <code>HTTP_PROXY</code> variable defined but have no
explicit proxy mappings specified in your SPI configuration. To prevent Keycloak from using those environment variables,
you can explicitly create a no proxy route for all requests as <code>.*;NO_PROXY</code>.</p>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/latest/server_installation/#_proxy_env_vars">related chapter in the Server Installation and Configuration Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecated_features_in_the_keycloak_operator">Deprecated features in the Keycloak Operator</h3>
<div class="paragraph">
<p>With this release, we have deprecated and/or marked as unsupported some features in the Keycloak Operator. This
concerns the Backup CRD and the operator managed Postgres Database. For more details, please see the
<a href="https://www.keycloak.org/docs/latest/server_installation/#_operator_production_usage">related chapter in the Server Installation and Configuration Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_keycloak_operator_examples_including_unsupported_metrics_extension">Keycloak Operator examples including unsupported Metrics extension</h3>
<div class="paragraph">
<p>Previously, an unsupported metrics extension was added in the example for the creation of the Keycloak CR by the Keycloak Operator. This has been removed.</p>
</div>
</div>
<h2>All resolved issues</h2>

<h3>Deprecated features</h3>
<ul>
<li><a href="https://github.com/keycloak/keycloak/issues/9106">#9106</a> Remove deprecated kcinit <span class="badge bg-secondary">keycloak </span></li>
</ul>


<h3>Enhancements</h3>
<ul>
<li><a href="https://github.com/keycloak/keycloak/issues/9080">#9080</a> Remove log warnings due to relocated packages <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9102">#9102</a> Update Quarkus Distribution to 2.5.2.Final <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9186">#9186</a> Update Quarkus Distribution to v2.5.3 <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9188">#9188</a> Provide an option like `JAVA_OPTS_APPEND` also for Quarkus based Keycloak.X container. <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9198">#9198</a> Upgrade to WildFly 25.0.1.Final <span class="badge bg-secondary">keycloak dist/wildfly</span></li>
</ul>

<h3>Bugs</h3>
<ul>
<li><a href="https://github.com/keycloak/keycloak/issues/9089">#9089</a> Realm export not working for Keycloak X 15.1.0 <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9092">#9092</a> Can't set up Webauthn Security Key with Keycloak.X <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9094">#9094</a> Start Keycloak.X with --features=experimental leads to exception <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9108">#9108</a> Unable to recognized SPI persisted properties <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9128">#9128</a> Enable new admin console to Dist.X <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9130">#9130</a> MapRoleProvider misuses ILIKE operator when EQ operator should be used  <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9137">#9137</a> Ternary conditional operator uses primitive type in some cases, it could throw NPEs <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9138">#9138</a> DB Migration Script to 13.0.0 failed <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/9141">#9141</a> DeepCloner.Builder().constructor is used in cases when .constructorDC should be used <span class="badge bg-secondary">keycloak storage</span></li>
</ul>


<h2>Upgrading</h2>
<p>Before you upgrade remember to backup your database and check the <a href="https://www.keycloak.org/docs/latest/upgrading/index.html">upgrade guide</a> for anything that may have changed.</p>
    </div>
</div>
		</div>
		<div id="push"></div>
    </div>

    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-sm-9 col-xs-12">
                    <a href="http://www.redhat.com/" target="_blank">
                        <img alt="redhatlogo-white" src="https://www.keycloak.org/resources/images/redhatlogo-white.png" width="130">
                    </a>
                </div>
            </div>
        </div>
    </div>
  </body>
</html>